<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>title</title>
    <link rel="shortcut icon" href="favicon.ico" type="image/vnd.microsoft.icon">
    <link rel="stylesheet" href="static/styles/reset.css" type="text/css">
    <link rel="stylesheet" href="static/styles/main.css" type="text/css">
    <link rel="stylesheet" href="static/styles/kiosk.css" type="text/css">

    <script src="static/js/qrcode.js" type="text/javascript"></script>
    <script src="static/js/nametag.js" type="text/javascript"></script>
  </head>
  <body>
    <div class="header">
      <h1><img src="static/images/organization_logo.jpg" alt="Code For San Jose" id="organization_logo"></h1>
      <p>Welcome! Please sign in.</p>
    </div>
    <form id="login_form" action="/signin" method="post" autocomplete="off">
      <div style="display: none;">
        <input type="text" id="PreventChromeAutocomplete" 
          name="PreventChromeAutocomplete" autocomplete="address-level4" />
      </div>
      <input type="text" name="nametag_img" hidden>
      <input type="text" name="use_server_img" value="true" hidden>
      <label>
        <span>Name</span>
        <input type="text" name="name" placeholder="your name" required autofocus>
      </label>
      <label>
        <span>Email address</span>
        <input type="email" name="email" placeholder="your email address" required>
      </label>
      <p>Preferred Pronoun:</p>
      <div>
        <input type="checkbox" id="he/him/his" value="he/him/his"/>
        <label for="he/him/his">He/Him/His</label>
      </div>
      <div>
        <input type="checkbox" id="she/her/hers" value="she/her/hers"/>
        <label for="she/her/hers">She/Her/Hers</label>
      </div>
      <div>
        <input type="checkbox" id="they/them/their" value="they/them/their"/>
        <label for="they/them/their">They/Them/Their</label>
      </div>
      <div>
        <input type="checkbox" id="ze/hir/hirs" value="ze/hir/hirs"/>
        <label for="ze/hir/hirs">Ze/Hir/Hirs</label>
      </div>
      <div>
        <input type="checkbox" id="other" value="other"/>
        <label for="other">Other</label>
        <input type="text" required autofocus>
      </div>
      <br/>
      <button name="button" type="submit" value="print">Sign in and print nametag</button>
			<button name="button" type="submit" value="noprint">Sign in only</button>
    </form>
    <div class="nametag_preview hidden">
      <h2>Nametag preview:</h2>
      <img id="nametag_preview_surrogate" alt="nametag preview" width="100%"/>
      <img src="static/images/organization_logo.jpg" alt="" id="organization_logo_src" style="display:none">
      <canvas id="nametag_canvas" width="600" height="337" style="display:none"></canvas>
    </div>
    <script>
    var nametag = new Nametag({
      'canvas_elem': document.getElementById('nametag_canvas'),
      'form_elem': document.getElementById('login_form'),
      'logo_elem': document.getElementById('organization_logo'),
      'line_1_input': document.querySelector('[name="name"]'),
      'line_2_input': document.querySelector('[name="email"]'),
      'text_x_offset_pct': {{ preferences.text_x_offset_pct }},
      'text_y_offset_pct': {{ preferences.text_y_offset_pct }},
      'img_preview_elem' : document.getElementById('nametag_preview_surrogate'),
      'logo_elem': document.getElementById('organization_logo_src'),
      'img_form_elem': document.querySelector('[name="nametag_img"]'),
      'logo_scale' : {{ preferences.logo_scale }},
      'qr_max_width_pct' : {{ preferences.qr_max_width_pct }}
    })
    nametag.set_logo_pos({{ preferences.logo_x_offset_pct }}, {{ preferences.logo_y_offset_pct }})
    nametag.set_qr_x_pos({{ preferences.qr_x_offset_pct }})
    nametag.set_qr_y_pos({{ preferences.qr_y_offset_pct }})
    </script>
  </body>
</html>
